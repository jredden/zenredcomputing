<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="keywords" content=" 
ScienceFictionSoftware, 
",
"Zenred Computing" />
 
<link href="css/main.css" rel="stylesheet" type="text/css">

<script src="../js/jquery-1.8.1.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../js/jquery.form.js"></script>
<script src="ckeditor/ckeditor.js" type="text/javascript"></script>
<script src="ckeditor/adapters/jquery.js" type="text/javascript"></script>
<script type="text/javascript" >
//global  (refactor later)
var questionNumber = '0';
var addQuestion = '0+0';
var formData = { questionNumber1:questionNumber, questionNumber2:addQuestion, questionNumber3:'0+0' }
var tagOperations = (function(){
	// private
	var showOperations = [
	       			function johntreddenSect(){
	   					$('#johntreddenSect').show();
	   				},
	   			   	function resumeSect() {
	   					$('#resumeSect').show();
	   				},
	   			   	function login_op(){
	   					$('#login_op').show();
	   				},
	   			   	function openSourceSect(){
	   					$('#openSourceSect').show();
	   				},
	   			   	function emailAndPassword(){
	   					$('#emailAndPassword').show();
	   				},
	   			   	function questions1(){
	   					$('#questions1').show();
	   				},
	   				function answerQuestionOne(){
		   				$('#answerQuestionOne').show();
		   			},
	   				function createLogin(){
	   					$('#createLogin').show();
	   				},	
	   				function blogSect(){
	   					$('#blogSect').show();
	   				},
	   				function blogContent(){
	   					$('#blogContent').show();
	   				},
		   			function blogForm(){
		   				$('#blogForm').show();
	   				},	   			
		   			function blogUrls(){
	   					$('#blogUrls').show();
	   				}	
	];
	var hideOperations = [
			   function johntreddenSect(){
					$('#johntreddenSect').hide();
				},
			    function resumeSect() {
					$('#resumeSect').hide();
				},
			    function login_op(){
					$('#login_op').hide();
				},
   			   	function openSourceSect(){
   					$('#openSourceSect').hide();
   				},
    			function emailAndPassword(){
   					$('#emailAndPassword').hide();
   				},
    			function questions1(){
   					$('#questions1').hide();
   				},
   				function answerQuestionOne(){
	   				$('#answerQuestionOne').hide();
	   			},
	   			function createLogin(){
	   				$('#createLogin').hide();
	   			},
	   			function blogSect(){
	   				$('#blogSect').hide();
	   			},
	   			function blogContent(){
	   				$('#blogContent').hide();
	   				$('#blogForm').hide();
	   			},
	   			function blogForm(){
	   				$('#blogForm').hide();
	   			},	   			
	   			function blogUrls(){
	   				$('#blogUrls').hide();
	   			}
	];
	var references = {
			"johntreddenSect" : 0,
			"resumeSect" : 1,
			"login_op" : 2,
			"openSourceSect" : 3,
			"emailAndPassword" : 4,
			"questions1" :5,
			"answerQuestionOne" : 6,
			"createLogin" :7,
			"blogSect" :8,
			"blogContent" :9,
			"blogForm" :10,
			"blogUrls" :11
	};
	
	// public 
	return {
		show: function(showList){ 
			for(var idex = 0; idex < showList.length; idex++){
				console.log("show:" + showList[idex]);
				var token2 = references[showList[idex]];
				showOperations[token2]();
			}
		},
		hide: function(hideList){
			for (var idex = 0; idex < hideList.length; idex++){
				console.log("hide:" + hideList[idex]);
				var token2 = references[hideList[idex]];
				hideOperations[token2]();
			}
		},
		hideAll: function(){
			for(token in hideOperations){ 
				console.log("token:" + token);
				var op = hideOperations[token];
				op();
			}
		},
		both: function(showList, hideList){
			tagOperations.show(showList);
			tagOperations.hide(hideList);
		}
		
	}
}());
$(document).ready(function() {
	console.log("in ready");
	$( 'textarea#editor1' ).ckeditor();
 
	tagOperations.hideAll();
	$('#blogContent').hide();
	// LoginFormId
	$('#LoginFormID').ajaxForm({ 
		dataType:  'json', 
		success:   processJson,
		error: function errorHandler(){
			var out = '';
  			for (var p in this) {
    			out += p + ':::::' + this[p] + '\n';
    			console.log("error:"+out);
  				}
		}
	});
	
	// json processor for LoginFormID
	function processJson(json) {
		console.log("login:");
		if(json.basicMesage.theMessage.indexOf("Passed") != -1){
			var showList = ['blogSect'];
			var hideList = ['emailAndPassword','resumeSect', 'answerQuestionOne', 'createLogin'];
			var emailAddress = json.basicMesage.emailAddress;
			sessionStorage.setItem('LOGIN', true);
			sessionStorage.setItem('EMAIL', emailAddress);
			seeCat0.jsonCall();
			tagOperations.both(showList, hideList);
			console.log("in Passed");
		}
		else{
			alert("login failed  ... select home and try again");
		}
	}
	
	// CreateLoginFormId   - used to create a login
	$('#CreateLoginFormID').ajaxForm({ 
		dataType:  'json', 
		type: "GET",
		success:   processCreateLoginJson,		
		error: function errorHandler(){
			var out = '';
  			for (var p in this) {
    			out += p + ':::::' + this[p] + '\n';
    			console.log("error:"+out);
  				}
		}
	});
	// json processor for CreateLoginFormId
	function processCreateLoginJson(json) {
		console.log("createLogin:"+json.createMessageResponse.emailAddress);
		if(json.createMessageResponse.theMessage.indexOf("SUCCESS") != -1){
			var showList = ['blogSect'];
   		var hideList = ['resumeSect', 'johntreddenSect','login_op','emailAndPassword','questions1','answerQuestionOne', 'createLogin'];
			tagOperations.both(showList, hideList);
			sessionStorage.setItem('LOGIN', true);
			sessionStorage.setItem('EMAIL', emailAddress);
		}
		else{
			alert("There is an error in what you typed:"+json.createMessageResponse.theMessage);
		}
	}
	// Question1FormID is associated to a challange similar to captcha 
	// 					except questions are asked
	$('#Question1FormID').ajaxForm({ 
		dataType:  'json', 
		type: "GET",
		success:   processQuestion1Json,		
		data: formData,
		error: function errorHandler(){
			var out = '';
  			for (var p in this) {
    			out += p + ':::::' + this[p] + '\n';
    			console.log("error:"+out);
  				}
		}
	});
	
	// json processor for Question1FormID
	function processQuestion1Json(json) {
		console.log("question1:");
		if(json.basicMesage.theMessage.indexOf("SUCCESS") != -1){
			var showList = ['createLogin']
			var hideList = ['blogSect','resumeSect','johntreddenSect','login_op','emailAndPassword','blogSect','questions1', 'answerQuestionOne'];
			tagOperations.both(showList, hideList);
		}
		else{
			alert("wrong answer ... try again");
		}
	}
	
	// Zenred Computing Splash
	$(center).hide();
	$(center2).hide();
	$(centerZR).hide();
	
	$(center).fadeIn();
	$(center).fadeOut(5000);
	$(center2).fadeIn();
	$(center2).fadeOut(7000);
	$(centerZR).fadeIn();
	$(centerZR).fadeOut(9000);
	// CLICK event handlers
	// each has a list of show and hide operations that make elements appear and disappear
	// on the page.
	
	$("#home").click(function () { 
		tagOperations.hideAll();
	});	
	$("#resume").click(function () { 
		console.log("in resume");
		var showList = ['resumeSect'];
		var hideList = ['johntreddenSect','openSourceSect','login_op','emailAndPassword','questions1','answerQuestionOne', 'createLogin', 'blogSect', 'blogForm', 'blogUrls'];
		tagOperations.both(showList, hideList);
	});
	
	$("#login").click(function () { 
		console.log("LOGIN:"+sessionStorage.LOGIN);
		if(sessionStorage.LOGIN){
			console.log("Already logged in");
			var showList = ['blogSect'];
   			var hideList = ['johntreddenSect', 'openSourceSect','resumeSect','login_op','emailAndPassword','questions1','answerQuestionOne', 'createLogin', 'blogForm'];
   			seeCat0.jsonCall();
		}
		else{
			var showList = ['login_op'];
			var hideList = ['johntreddenSect','resumeSect','openSourceSect','emailAndPassword','blogSect','questions1','answerQuestionOne', 'createLogin','blogForm'];
		}
		tagOperations.both(showList, hideList);
	});	
	$("#openSource").click(function () {
		console.log("in openSource"); 
		var showList = ['openSourceSect'];
		var hideList = ['johntreddenSect','resumeSect','login_op','emailAndPassword','questions1','answerQuestionOne', 'createLogin', 'blogSect','blogForm', 'blogUrls'];
		tagOperations.both(showList, hideList);
	});
	
	$("#startLogin").click(function(){
		var showList = ['emailAndPassword']
		var hideList = ['johntreddenSect','resumeSect','login_op', 'answerQuestionOne', 'createLogin','blogForm'];
		tagOperations.both(showList, hideList);
	});
	
	$("#startLoginRequest").click(function(){
		var hideList = ['johntreddenSect', 'resumeSect','login_op', 'answerQuestionOne', 'createLogin', 'openSourceSect', 'blogForm'];
		tagOperations.hide(hideList);
		accessRequest.jsonCall();
	});
	
	$("#Computer_History").click(function(){
		console.log("Computer History");
		console.log(CKEDITOR.instances['blogText']);
		CKEDITOR.instances['blogText'].setData('From: ' 
			+ sessionStorage.EMAIL + "<p/>"
			+'Subject: Computer History'
			+"<p/>Title:</p>"
			+'Start Entry:');
		CKEDITOR.instances['blogText'].document.getBody().setStyle('background-color', '#C9C9C9');
		$('#page').hide();
		var showList = ['blogForm', 'blogUrls'];
		tagOperations.show(showList);
		blogRequest.jsonCall("Computer History");
	});
	$("#Computer_Languages").click(function(){
		console.log("Computer Languages");
		CKEDITOR.instances['blogText'].setData('From: ' 
			+ sessionStorage.EMAIL + "<p/>"
			+'Subject: Computer Languages'
			+"<p/>Title:</p>"
			+'Start Entry:');
		CKEDITOR.instances['blogText'].document.getBody().setStyle('background-color', '#D4D4D4');
		$('#page').hide();
		var showList = ['blogForm', 'blogUrls'];
		tagOperations.show(showList);
		blogRequest.jsonCall("Computer Languages");
	});
	$("#Inclusive_Software_Engineering").click(function(){
		console.log("Inclusive Software Engineering");
		CKEDITOR.instances['blogText'].setData('From: ' 
			+ sessionStorage.EMAIL + "<p/>"
			+'Subject: Inclusive Software Engineering'
			+"<p/>Title:</p>"
			+'Start Entry:');
		CKEDITOR.instances['blogText'].document.getBody().setStyle('background-color', '#DBDBDB');
		$('#page').hide();
		var showList = ['blogForm', 'blogUrls'];
		tagOperations.show(showList);
		blogRequest.jsonCall("Inclusive Software Engineering");
	});
	$("#Business_Stories").click(function(){
		console.log("Business Stories");
		CKEDITOR.instances['blogText'].setData('From: ' 
			+ sessionStorage.EMAIL + "<p/>"
			+'Subject: Business Stories'
			+"<p/>Title:</p>"
			+'Start Entry:');
		CKEDITOR.instances['blogText'].document.getBody().setStyle('background-color', '#E0E0E0');
		$('#page').hide();
		var showList = ['blogForm', 'blogUrls'];
		tagOperations.show(showList);
		blogRequest.jsonCall("Business Stories");
	});
	
	$("#blogSubmit").click(function(){
		var theStuff =  CKEDITOR.instances['blogText'].getData();
		console.log("BLOG SUBMIT:"+theStuff);
		$.post('http://www.zenredcomputinglocal.com:8080/blogPost.html',  
			{'emailAddress': sessionStorage.EMAIL, 'category': sessionStorage.CATEGORY, 'editor1': theStuff},
			function(resultData){
				console.log("RESULT DATA:"+resultData);
				var ick = resultData.replace('com.zenred.zenredcomputing.vizualization.VisualizationCentricPostsResponse', 'zenred');
				var posts = JSON.parse(ick);
				var object = posts.TopicResponse.visualizationCentricPosts.zenred;
				console.log("POSTS:"+object.toString());
				console.log("LENGTH:"+object.length);
								var htmlStuff = "";
				for (var idex = 0; idex < object.length; idex++) {
					htmlStuff +="<p><a href=\"#readEntry?Id="+object[idex]['Id']+"\">"+object[idex]['Title']+ "&nbsp"+object[idex]['emailAddress']+"</p>";
				}
				console.log("HTML_STUFF:"+htmlStuff);
				$(blogUrls2).html(htmlStuff);
				
			})
			;
			return false;
	});
	
	$("#johntredden").click(function(){
		window.location = "http://www.johntredden.com";
	});
});
// invoke accessRequest endpoint associated to startLogin event
var accessRequest = (function () {
	return{
		jsonCall: function(){
			console.log("start AccessRequest");
			$.getJSON("http://www.zenredcomputinglocal.com:8080/firstAccess.html",
					function(json){           // callback
					console.log("Here");
					processRequest.jsonProcess(json);
					}		
			);
		}
	}
})();
// json processor for accessRequest
// 		it builds dynamic HTML using data returned from the server and asks questions
var processRequest = (function () {
	return{
		jsonProcess: function(json){
			var colorSelector = 0;
			$(questions1).html("<div id=\"questionHeader\"> Please prove you are a person.  Key in a four letter word that describes  </div> ");
			$(questions1).append("<div id=\"questionHeader2\">the following set of phrases.  </div>   ");
			$(questions1).append("<br/></div> ");
			for (var idex = 0; idex < json.firstAccessResponse.questionList.string.length; idex++) {
				
				$(questions1).append("<div id=\"question" + idex + "\""
				+colorSelector
				+">"
				+json.firstAccessResponse.questionList.string[idex]
				+"</div>");
				console.log("question:" + json.firstAccessResponse.questionList.string[idex]);
			}
			$(questions1).append("<br/>");
			$(questions1).append("<div id=\"math\"> Please add these two numbers and key the answer in:&nbsp;&nbsp;  <span id=\"knum\">"+json.firstAccessResponse.secondQuestion+"</span></div>");
			questionNumber = json.firstAccessResponse.questionNumber;
			addQuestion = json.firstAccessResponse.secondQuestion;
			formData.questionNumber1 = questionNumber;
			formData.questionNumber2 = addQuestion;
			var showList = ['questions1','answerQuestionOne'];
			tagOperations.show(showList);
		}
	}
})();
// sets up server endpoint invocation for blog categories
var seeCat0 = (function () {
	return{
		jsonCall: function(){
			console.log("start top level category");
			$.getJSON("http://www.zenredcomputinglocal.com:8080/category.html",
					function(json){           // callback
					console.log("in cat 0");
					jsonCategory.Category0(json);
					}		
			);
		}
	}
})();
// json processor for seeCat0
// activates blog catagory controls
var jsonCategory = (function () {
	return{
		Category0: function(json){
			for (var idex = 0; idex < json.subjectsResponse.subjects.string.length; idex++) {
				var category = json.subjectsResponse.subjects.string[idex];
				var category2 = category.replace(' ','_');
				category2 = category2.replace(' ','_');
				var line = "<button id=\""+category2+"\">"+json.subjectsResponse.subjects.string[idex]+ "</button>";
				console.log("line:"+line);
			}
			$("#blogSect").show();
		},
		Category1: function(json){
			console.log(json);
		}
	}
})();
// called by category event handlers
// 	invokes end point processor for selectemailAddressIded category
var blogRequest = (function () {
	return{
		jsonCall: function(category){
			console.log("blog request:"+category);
			sessionStorage.setItem('CATEGORY', category);
			var email = sessionStorage.EMAIL;
			console.log("click EMAIL:"+email);
			$.getJSON("http://www.zenredcomputinglocal.com:8080/generalTopic.html?subject="
			+category
			+"&emailAddress="
			+email,
			function(json){
				jsonCategory.Category1(json);
				}		
			);
		}
	}
})();
</script>

<title>Zenred Computings Web Site</title>
</head>
<body>
<div id="wrapper">
<header id="topHeader">
<hgroup>
<nav id="topNav">
  <button id="home">Home</button>
  <button id="resume">Curriculum Vitae</button>
  <button id="login"> Login for access to Blog</button>
  <button id="openSource">URLs to zenred computing open source on github</button>
  <button id="johntredden">John Reddens website</button>
</nav>


</hgroup>
</header>

<section id="space">
</section>

<section id="johntreddenSect">
</section>

<section id="resumeSect">
		<a href="docs/cvh.pdf">Curriculum Vitae</a>
</section>

<section id="openSourceSect">
		<a href="https://github.com/jredden">Open Source On GitHub</a>
</section>

<section id="blogSect">
<div id="blogMenu"><b>Choose a General Blog Topic </b></div>
<nav>
<button id="Computer_History">Computer History</button>
<button id="Computer_Languages">Computer Languages</button> 
<button id="Inclusive_Software_Engineering">Inclusive Software Engineering</button> 
<button id="Business_Stories">Business Stories</button> 
</nav>
</section>

<section id="addBlog">
<div id="#blogContent">
<form id="blogForm" class="blog">
<textarea class="ckeditor" name="editor1" id="blogText">
                
</textarea>

<input type="submit" value="Submit" id="blogSubmit" />
</form>
<div id="blogUrls" class="containingbox"></div>
</div>
<div id="blogUrls2"></div>
</section>

<section id="login_op">
			<nav>
				<div id="chooseLogin">
					<button id="startLogin">Existing Login</button>
				</div>
				<div id="requestLogin">
					<button id="startLoginRequest">Request Access to Blog</button>
				</div>
			</nav>
</section>
<section id="challangeSect">
			<div id="questions1"></div>
			
			<div id="emailAndPassword">
				<form name="LoginForm" id="LoginFormID"
					action="http://www.zenredcomputinglocal.com:8080/login.html"
					method="get">
					<div id="uEmail">
						E-Mail Address: <span id="uMails"> <input type="text"
							name="email" maxlength=255 size=64 />
						</span>
					</div>
					<div id="loginPassword">
						Password&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:
						<span id="loginPasswords"> <input type="password"
							name="password" maxlength=255 size=64 />
						</span>
					</div>
					<div id="submit">
						<input class="button" type="submit" id="loginOperation"
							name="submit" value="Submit E-Mail Address and Password" />
					</div>
				</form>
			</div>
			
			<div id="answerQuestionOne">
				<form name="Question1Form" id="Question1FormID"
					action="http://www.zenredcomputinglocal.com:8080/answerQuestion1.html"
					method="get">
					<div id="uQuestion1">
						Your First Question Answer: <span id="uQ1"  > <input type="text" 
							name="question1" maxlength=10 size=5 />
						</span>
					</div>
					<div id="uQuestion2">
						Your Second Question Answer: <span id="uQ2"> <input type="text" 
							name="question2" maxlength=10 size=5 />
						</span>
					</div>
					<div id="submit">
						<input class="button" type="submit" id="questionOneOperation"
							name="submit" value="Submit Answers" />
					</div>
				</form>
			</div>
</section>
			
<section id="createLoginSec">		
			<div id="createLogin">
				<form name="CreateLoginForm"  id="CreateLoginFormID"
					action="http://www.zenredcomputing.com:8080/createLogin.html"
					method="get">
					<div id="firstName">
						Your First Name: <span id="fn1"> <input type="text" 
							name="firstName" maxlength=255 size=25 />
						</span>
					</div>
					<div id="lastName">
						Your Last Name: <span id="ln1"> <input type="text" 
							name="lastName" maxlength=255 size=25 />
						</span>
					</div>
					<div id="eMail">
						Your E-Mail Address: <span id="em1"> <input type="text"
							name="email" maxlength=255 size=25 />
						</span>
					</div>
					<div id="password1">
						Type Your Password: <span id="pw1"> <input type="password" 
							name="Password1" maxlength=255 size=25 />
						</span>
					</div>
					<div id="password2">
						Retype Your Password: <span id="pw2"> <input type="password" 
							name="Password2" maxlength=255 size=25 />
						</span>
					</div>
					<div class="submitC" id="submit">
						<input class="button" type="submit" id="createLoginOperation"
							name="submit" value="Submit Answers" />
					</div>				
					</form>
			</div>
</section>
<section id="page">
	<div id="center">
		REDDEN
	</div>	
	<div id="center2">
		ZENK
	</div>	
	<div id="centerZR">
		ZENRED COMPUTING
	</div>
</section>
</div>


</body>
</html>
